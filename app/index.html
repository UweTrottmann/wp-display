<!DOCTYPE html>
<html ng-app>
  <head>
    <meta charset="utf-8" />
    <title>WP Display</title>

    <!-- Bootstrap -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="angular.min.js"></script>
    <script src="tcp-client.js"></script>
    <script src="controller.js"></script>
    <link rel="stylesheet" href="main.css">
    
  </head>
  <body ng-controller="HeatingDisplayControl">
    <div class="container-fluid">

      <!-- controls -->
      <div class="row">
        <div class="col-sm-6">
          <button type="button" class="btn btn-default" ng-click="toggleConnection()" ng-model="btnConnect">{{textBtnConnect}}</button>
          <button type="button" class="btn btn-default" ng-click="toggleSettings()">
            <span class="glyphicon glyphicon-cog"></span>
          </button>
          <span class="label label-primary">{{textRequestStatus}}</span>
        </div>
      </div>
      
      <p></p>

      <div class="row">
        <div class="col-sm-6">
          <em><div>{{textStatus}}</div></em>
        </div>
      </div>

      <div id="settings" ng-show="isShowingSettings">
        <div>
          <h4>Settings</h4>
          <label for="host">Hostname:</label>
          <input type="text" ng-model="host">
          <label for="port">Port:</label>
          <input type="number" id="port" ng-model="port">
        </div>
        <div>
          <h4>What is this?</h4>
          <p>Displays status information provided through the TCP server of alpha innotec's Luxtronik 2.0 heat pump controller.</p>
        </div>
      </div>

      <p></p>

      <!-- Data views -->
      <div class="row">
        <div class="col-sm-6">
          <div class="row">
            <div class="col-xs-6">
              <b>Vorlauf</b><br/>
              <span class="temp-value">{{tempOutgoing}}</span> °C
            </div>
            <div class="col-xs-6">
              <b>Rücklauf</b><br/>
              <span class="temp-value">{{tempReturn}}</span> °C
            </div>
          </div>  
        </div>
        <div class="col-sm-6">
          <div class="row">
            <div class="col-xs-6">
              <b>Aussentemperatur</b><br/>
              <span class="temp-value">{{tempOutdoors}}</span> °C
            </div>
            <div class="col-xs-6">
              <b>Rücklauf Soll</b><br/>
              <span class="temp-value">{{tempReturnShould}}</span> °C
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-3">
          <b>Uhrzeit</b><br/>
          {{time}}<br/>
          <br/>
          <b>Verdichter Stillstand</b><br/>
          {{timeCompressorNoop}}<br/>
          <br/>
        </div>
        <div class="col-sm-6">
          <b>T Rücklauf < (T Rücklauf Soll - Hysterese)</b><br/>
          {{timeReturnLower}}<br/>
          <br/>
          <b>T Rücklauf > (T Rücklauf Soll + Hysterese)</b><br/>
          {{timeReturnHigher}}<br/>
          <br/>
        </div>
      </div>

    </div><!-- container -->

  </body>
</html>
